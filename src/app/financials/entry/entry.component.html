<div *ngIf="category && showTransactionSection">
    <div class="transaction">
        <h3> Current Category: {{category.val}}</h3>
        <div class="buttons">
            <button mat-flat-button color="primary" (click)="enterPayment()">Enter Payment</button>
            <button mat-flat-button color="primary" (click)="enterCharge()">Enter Charge</button>
            <button *ngIf="showHistoryButton" mat-flat-button color="primary" (click)="toggleHistory()">History</button>
        </div>
    </div>
    <h4 *ngIf="startingBalance; else balanceNote">Starting Balance: {{startingBalance | currency}} | Running Balance: {{balance | currency}}</h4>
    <ng-template #balanceNote>
        <div class="attention">
            <p> <strong>Attention:</strong> Balance not present for <strong>{{category.val}}.</strong></p>
            <p>First entry for either payment or charge will serve as the starting balance.</p>
            <p>Memo accordingly.</p>
        </div>
    </ng-template>
</div>


<form *ngIf="showForm" [formGroup]="formGroup" #formDirective="ngForm" (ngSubmit)="submitHandler(formDirective)">
    <div *ngIf="isEnteringPayment">
        <mat-form-field>
            <input type=number step=0.01 matInput placeholder="{{category.val}} Payment" formControlName="amount">
        </mat-form-field>
    </div>
    <div *ngIf="isEnteringCharge">
        <mat-form-field>
            <input type=number step=0.01 matInput placeholder="{{category.val}} Charge" formControlName="amount">
        </mat-form-field>
    </div>
    <mat-form-field>
        <input type=text matInput placeholder="Memo" formControlName="memo">
    </mat-form-field>
    <button mat-flat-button color="primary" *ngIf="showSubmitButton" [disabled]="!formGroup.valid" type="submit">Submit</button>
</form>
<!-- <app-history *ngIf="showHistory"></app-history> -->